<% if @perfil.errors.any? %>
    <div class="row">
        <div class="col-sm-12">
            <div class="alert alert-danger">
                <h2>
                    Atenção:
                </h2>
                <ul>
                    <% @perfil.errors.full_messages.each do | msg | %>
                        <li><%= msg %></li>
                    <% end %>
                </ul>
            </div>
        </div>
    </div>
<% end %>

<div class="row">
    <div class="col-md-10">
        <div class="panel panel-default">    
            <div class="panel-body"> 
                <%= form_for(@perfil, :html => {class: 'form-horizontal'}) do |f| %>
                    <div class="form-group">
                        <div class="col-md-12">
                            <div style="border-bottom: 2px solid #ddd;">
                                <% if @perfil.new_record? %>
                                    <h3><i class="fa fa-plus"></i> Novo Perfil</h3>
                                <% else %>
                                    <h3><i class="fa fa-edit"></i> Editar Perfil</h3>
                                <% end %>                                                     
                            </div>
                        </div>
                    </div>   
                    <div class="form-group" style="padding-top: 10px">
                        <%= f.label :room, '<span style="color:red">*</span> Nome'.html_safe, class: 'control-label col-sm-3' %>
                        <div class="col-sm-7">
                            <%= f.text_field :name, class: 'form-control', placeholder: 'A01', autofocus: true %>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="col-md-12">
                            <div style="border-bottom: 2px solid #ddd;">
                                <h3><i class="fa fa-key"></i> Permissões</h3>
                            </div>
                        </div>
                    </div>
                    <div class="table-responsive col-sm-10">
                        <table class="table table-striped table-bordered table-list" id="table">
                            <tr>
                                <th></th>
                                <th>Visualizar</th>
                                <th>Cadastrar</th>
                                <th>Editar</th>
                                <th>Excluir</th>
                            </tr>
                            <% @sessions.each do |session| %>
                                <tr>
                                    <td><%= session.name %></td>
                                    <%= f.fields_for Action.new do |a| %>
                                        <td>
                                            <%= a.check_box :view, {class: 'checkbox'}, true, false %> 
                                        </td>
                                        <td>
                                            <%= a.check_box :register, {class: 'checkbox'}, true, false %> 
                                        </td>
                                        <td>
                                            <%= a.check_box :edit, {class: 'checkbox'}, true, false %>
                                        </td>
                                        <td>
                                            <%= a.check_box :remove, {class: 'checkbox'}, true, false %>
                                        </td>
                                    <% end %>
                                </tr>
                            <% end %>
                        </table>
                    </div>                       

                    <div class="form-group pull"> 
                        <div class="col-sm-offset-3 col-sm-7">
                            <div class="pull-right">
                                <%= link_to 'Voltar', perfils_path, class: 'btn btn-danger' %>
                                <% if @perfil.new_record? %>
                                    <%= f.submit 'Cadastrar', class: 'btn btn-green' %>
                                <% else %>
                                    <%= f.submit 'Editar', class: 'btn btn-green' %>
                                <% end %>
                            </div>
                        </div>
                    </div>
                <% end %>
            </div>
        </div>
    </div>
</div>
